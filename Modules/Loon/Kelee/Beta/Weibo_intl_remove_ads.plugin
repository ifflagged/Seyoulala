#!name=å¾®åšè½»äº«ç‰ˆå»å¹¿å‘Š
#!desc=ç§»é™¤å¼€å±å¹¿å‘Šã€æ—¶é—´çº¿å¹¿å‘ŠåŠè¯„è®ºåŒºå¹¿å‘Šï¼Œç§»é™¤å‘ç°é¡µé¢æ¨ªå¹…æ¨å¹¿ã€æœ€å¸¸è®¿é—®ã€ä¸»é¡µè®¿å®¢åŠçƒ­é—¨è§†é¢‘ï¼Œç§»é™¤æœç´¢å¡«å……è¯ã€‚
#!author=å¯è‰ğŸ…¥[https://github.com/luestr/ProxyResource/blob/main/README.md]
#!icon=https://raw.githubusercontent.com/luestr/IconResource/main/App_icon/120px/Loon.png
#!tag=Jacob

#!openUrl=https://apps.apple.com/app/id1215210046
#!tag=å»å¹¿å‘Š
#!loon_version=3.2.4(787)
#!homepage=https://github.com/luestr/ProxyResource/blob/main/README.md
#!date=2025-07-09 12:09:44

[Rewrite]
^https:\/\/weibointl\.api\.weibo\.cn\/portal\.php\?a=trends response-body-json-jq '.data.discover |= map(select(.schema != "å°Šäº«ä¼šå‘˜"))'
^https:\/\/api\.weibo\.cn\/2\/statuses\/friends\/timeline$ response-body-json-jq '.statuses|=map(select(.ad_marked!=true))'
^https:\/\/api\.weibo\.cn\/2\/statuses\/unread_hot_timeline$ response-body-json-jq '.statuses|=map(select(.ad_marked!=true))'
^https:\/\/api\.weibo\.cn\/2\/comments\/build_comments\? response-body-json-jq '.datas[].data.ad_from_comment? = true'
^https:\/\/api\.weibo\.cn\/2\/cardlist\?aid= response-body-json-jq '.cards |= map(select((.mblog?|(.ad_marked?|type=="boolean")and.ad_marked==true)or(.card_group?|type=="array"and any(.[]?;.mblog?|(.ad_marked?|type=="boolean")and.ad_marked==true))|not))'
# å¹¿å‘ŠæŠ•æ”¾é…ç½®
^https:\/\/bootpreload\.uve\.weibo\.com\/v1\/ad\/preload$ - reject-dict
# å‘ç°é¡µé¢ - è¶‹åŠ¿ - çƒ­é—¨è§†é¢‘ä¿¡æ¯æµ
^https:\/\/api\.weibo\.cn\/2\/cardlist\?v_f=2 - reject-dict
# æ—¶é—´çº¿ - å…³æ³¨ - å¹¿å‘Š
^https:\/\/api\.weibo\.cn\/2\/ad\/ - reject-dict
# æœç´¢ - å¡«å……è¯
^https:\/\/weibointl\.api\.weibo\.cn\/portal\.php\?a=get_searching_info - reject-dict

[Script]
http-response ^https:\/\/weibointl\.api\.weibo\.cn\/portal\.php\?a=trends script-path=https://raw.githubusercontent.com/Script-Hub-Org/Script-Hub/main/scripts/body-rewrite.js, requires-body=true, timeout=30, tag=body_rewrite_15, argument=%5B%5B%22json-del%22%2C%5B%22data.banner%22%2C%22data.user_footprint%22%2C%22data.profile_accessrecord%22%2C%22data.native_content%22%5D%5D%5D

http-response ^https:\/\/api\.weibo\.cn\/2\/statuses\/friends\/timeline$ script-path=https://raw.githubusercontent.com/Script-Hub-Org/Script-Hub/main/scripts/body-rewrite.js, requires-body=true, timeout=30, tag=body_rewrite_22, argument=%5B%5B%22json-del%22%2C%5B%22advertises%22%2C%22ad%22%2C%22ad_version_2_weibo%22%5D%5D%5D

http-response ^https:\/\/api\.weibo\.cn\/2\/statuses\/unread_hot_timeline$ script-path=https://raw.githubusercontent.com/Script-Hub-Org/Script-Hub/main/scripts/body-rewrite.js, requires-body=true, timeout=30, tag=body_rewrite_25, argument=%5B%5B%22json-del%22%2C%5B%22ad%22%2C%22ad_version_2_weibo%22%5D%5D%5D

[MITM]
hostname = bootpreload.uve.weibo.com, weibointl.api.weibo.cn, api.weibo.cn

