#!name=Keepå»å¹¿å‘Š
#!desc=ç§»é™¤å¼€å±å¹¿å‘Šã€åº”ç”¨å†…å¹¿å‘Šå’Œå¼¹çª—å¹¿å‘Šï¼Œç²¾ç®€åº•æ å…¥å£ã€é¦–é¡µæ ‡ç­¾ã€å…³æ³¨æ¨èã€æ–‡ç« ç›¸å…³æ¨èï¼Œç§»é™¤ä¿¡æ¯æµä¸­çš„è¯¾ç¨‹æ¨å¹¿ã€‚
#!author=å¯è‰ğŸ…¥[https://github.com/luestr/ProxyResource/blob/main/README.md]
#!icon=https://raw.githubusercontent.com/luestr/IconResource/main/App_icon/120px/Loon.png
#!tag=Jacob

#!openUrl=https://apps.apple.com/app/id952694580
#!tag=å»å¹¿å‘Š
#!loon_version=3.2.4(787)
#!homepage=https://github.com/luestr/ProxyResource/blob/main/README.md
#!date=2025-05-23 03:11:34

[Rule]
DOMAIN,kad.gotokeep.com,REJECT

[Rewrite]
^https:\/\/api\.gotokeep\.com\/twins\/union\/feed\/union_feed_all$ response-body-json-jq '.data.modules |= map(select(.code == "unionFeedEntry"))'
^https:\/\/api\.gotokeep\.com\/config\/v3\/basic\? response-body-json-jq '.data.bottomBarControl.tabs |= map(select(.tabType | . == "home" or . == "dynamic_sports" or . == "personal")) | .data.homeTabs |= map(select(.type | . == "socialTab" or . == "union_feed_all" or . == "homeRecommend" or . == "suitTab" or . == "union_feed_route"))'
^https:\/\/api\.gotokeep\.com\/op-engine-webapp\/v1\/ad\/ - reject-dict
^https:\/\/api\.gotokeep\.com\/search\/v6\/default\/keyword\/list\? - reject-dict
^https:\/\/api\.gotokeep\.com\/twins\/v4\/feed\/followPage\? - reject-dict
^https:\/\/api\.gotokeep\.com\/guide-webapp\/v1\/popup\/getPopUp\? - reject-dict

[Script]
http-response ^https:\/\/api\.gotokeep\.com\/twins\/v4\/feed\/entryDetail\? script-path=https://raw.githubusercontent.com/Script-Hub-Org/Script-Hub/main/scripts/body-rewrite.js, requires-body=true, timeout=30, tag=body_rewrite_18, argument=%5B%5B%22json-replace%22%2C%5B%5B%22data%22%2C%7B%7D%5D%5D%5D%5D

[MITM]
hostname = api.gotokeep.com

