#!name=å–œé©¬æ‹‰é›…å»å¹¿å‘Š
#!desc=ç§»é™¤å¼€å±å¹¿å‘Šã€æ’­æ”¾å™¨å¹¿å‘Šï¼Œç²¾ç®€é¢‘é“å’Œæˆ‘çš„é¡µé¢ã€‚
#!openUrl=https://apps.apple.com/app/id876336838
#!author=å¯è‰ğŸ…¥[https://github.com/luestr/ProxyResource/blob/main/README.md]
#!tag=å»å¹¿å‘Š
#!system=
#!system_version=
#!loon_version=3.2.4(787)
#!homepage=https://github.com/luestr/ProxyResource/blob/main/README.md
#!icon=https://raw.githubusercontent.com/luestr/IconResource/main/App_icon/120px/Himalaya.png
#!date=2024-11-29 11:43:00

[Rule]
# å¹¿å‘Šä¸‹å‘
DOMAIN,adse.ximalaya.com,REJECT
DOMAIN,adse.wsa.ximalaya.com,REJECT

# æ‹¦æˆªHTTPDNS
DOMAIN,dns2.q2cdn.com,REJECT
URL-REGEX,"^http:\/\/xmc\.ximalaya\.com\/xmlymain-login-web\/login\/",REJECT

[Rewrite]
# æ‹¦æˆªHTTPDNS
^https:\/\/gslbali\.ximalaya\.com\/linkeye-cloud\/httpdns\/ reject

# æœç´¢è¯
^https:\/\/(search|searchwsa)\.ximalaya\.com\/hub\/guideWordV\d\/ reject-dict

# é¦–é¡µ - æ¨è - æ¨èå¡ç‰‡
^https:\/\/(mobile|mobilehera)\.ximalaya\.com\/discovery-feed\/v\d\/mix\/ response-body-json-jq '.heData |= map(select(.item.list[].bizType != "SceneListenCard"))'
^https:\/\/(mobile|mobilehera)\.ximalaya\.com\/discovery-feed\/v\d\/scene\/listen\/refresh\? reject-dict

# ç²¾ç®€é¢‘é“åˆ†ç±»
^https:\/\/(mobile|mobilehera)\.ximalaya\.com\/discovery-category\/customCategories\/ response-body-json-jq '.categoryList |= map(.itemList |= map(select(.title | test("ç›´æ’­|123ç‹‚æ¬¢èŠ‚"; "i") | not))) | .customCategoryList |= map(select(.title | test("ç›´æ’­|123ç‹‚æ¬¢èŠ‚"; "i") | not))'

# æˆ‘çš„é¡µé¢ - æœåŠ¡æ¨¡å—
^https:\/\/(mobile|mobilehera)\.ximalaya\.com\/mobile-user\/v\d\/homePage\/ response-body-json-jq '.data.serviceModule.entrances |= map(select(.name == "å…¨éƒ¨æœåŠ¡"))'

# å…¨å±€å¹¿å‘Š
^https:\/\/(mobile|mobilehera)\.ximalaya\.com\/football-portal\/diff2\/batch\? response-body-json-del json.ad

# è®¢é˜… - è®¢é˜…æ¨è
^https:\/\/(mobile|mobilehera)\.ximalaya\.com\/subscribe\/v\d\/subscribe\/tagAlbumList$ reject-dict

# è®¢é˜… - ç²¾ç®€ç±»åˆ«
^https:\/\/mobile\.ximalaya\.com\/nexus-web\/v4\/tabs\/customTabs\? response-body-json-jq .data.feedTabs |= map(select(.name != "å¤§èµ›"))

# æ’­æ”¾å™¨ - æ¨å¹¿
^https:\/\/(mobile|mobilehera)\.ximalaya\.com\/mobile-playpage\/playpage\/recommend\/resource\/allocation\/ reject-dict

# å¼¹çª—
^https:\/\/(mobile|mobilehera)\.ximalaya\.com\/firework-portal\/v\d+\/sync\? reject-dict

[MitM]
hostname=gslbali.ximalaya.com,search.ximalaya.com,searchwsa.ximalaya.com,mobile.ximalaya.com,mobilehera.ximalaya.com